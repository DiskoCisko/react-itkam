(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{120:function(t,e,n){t.exports={wrp:"LeftMenu_wrp__1VaE0"}},205:function(t,e,n){},21:function(t,e,n){t.exports={header:"Header_header__1VX0t",container:"Header_container__2GerD",logo:"Header_logo__3e8ca",navbar:"Header_navbar__2IOg_",item:"Header_item__3FnjW","navbar-item":"Header_navbar-item__1L_gN",active:"Header_active__N-ohh",btn:"Header_btn__3DXN3"}},212:function(t,e,n){t.exports={btn:"FormContainer_btn__HTWQ_",summaryError:"FormContainer_summaryError__3eP5H"}},22:function(t,e,n){t.exports={friendImg:"FriendList_friendImg__1CP2I",postText:"FriendList_postText__34m9B",friendCard:"FriendList_friendCard__JNvRV",title:"FriendList_title__1znzy",friendText:"FriendList_friendText__1Yo_W"}},251:function(t,e,n){},252:function(t,e,n){"use strict";n.r(e);var r=function(t){t&&t instanceof Function&&n.e(6).then(n.bind(null,263)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),r(t),a(t),c(t),i(t)}))},a=n(10),c=n(45),i=n(4),o={posts:[{id:1,text:"Text"}],formValue:""},s={dataUsers:[{id:1,name:"Mik",path:"/dialogs/1"},{id:2,name:"Nik",path:"/dialogs/2"},{id:3,name:"Sam",path:"/dialogs/3"}],dataMessages:[{id:1,message:"Hi",author:"Mik",path:"/dialogs/1"},{id:2,message:"Fack is mad",author:"Nik",path:"/dialogs/2"},{id:3,message:"Plan B",author:"Sam",path:"/dialogs/3"}]},u=function(t,e,n,r){return t.map((function(t){return e==t[n]?Object(i.a)(Object(i.a)({},t),r):Object(i.a)({},t)}))},l={users:[],pageSize:30,totalCount:0,currentPage:1,isFetch:!1,isFetchFollow:!1,togleFetcgFollow:[]},d={email:null,login:void 0,userId:null,isAuth:!1,error:null},f=n(31),p={initialized:!1},j=n(118),b=n(255),O=Object(a.c)({profile:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD-POST":var n=Object(i.a)(Object(i.a)({},t),{},{formValue:"",posts:[].concat(Object(c.a)(t.posts),[{id:Math.ceil(1e3*Math.random()),text:e.payload}])});return n;case"CHANGE-FORM":var r=Object(i.a)(Object(i.a)({},t),{},{formValue:e.payload});return r;case"SET_PROFILE":return Object(i.a)(Object(i.a)({},t),{},{profile:e.payload});case"SET_STATUS":return Object(i.a)(Object(i.a)({},t),{},{status:e.payload});default:return t}},dialogs:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return t},userPage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"FOLLOW_USER":var n=u(t.users,e.payload,"id",{followed:!0}),r=Object(i.a)(Object(i.a)({},t),{},{users:n});return r;case"UNFOLLOW_USER":var a=u(t.users,e.payload,"id",{followed:!1}),o=Object(i.a)(Object(i.a)({},t),{},{users:a});return o;case"CHANGE_PAGE":var s=e.payload,d=Object(i.a)(Object(i.a)({},t),{},{currentPage:s});return d;case"CHANGE_TOTAL_COUNT_PAGE":var f=e.payload,p=Object(i.a)(Object(i.a)({},t),{},{totalCount:f});return p;case"SET_USER":var j=Object(c.a)(e.payload),b=Object(i.a)(Object(i.a)({},t),{},{users:j});return b;case"TOOGLE_IS_FETCH":return Object(i.a)(Object(i.a)({},t),{},{isFetch:!t.isFetch});case"TOGLE_FECHING_FOLLOW":return Object(i.a)(Object(i.a)({},t),{},{togleFetcgFollow:e.isFething?[].concat(Object(c.a)(t.togleFetcgFollow),[e.userId]):t.togleFetcgFollow.filter((function(t){return t!==e.userId}))});default:return t}},auth:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_AUTH":return Object(i.a)(Object(i.a)({},e.payload),{},{isAuth:!0});case"DEL_AUTH":return{isAuth:!1};case"SET_ERROR":return{error:!0};default:return t}},app:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"INITIALIZED_SUCCESS":return Object(i.a)(Object(i.a)({},t),{},{initialized:!0});default:return t}},form:b.a}),h="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||a.d,m=Object(a.e)(O,h(Object(a.a)(j.a))),_=n(0),g=n.n(_),v=n(60),x=n.n(v),y=(n(205),n(54)),E=n(55),F=n(59),w=n(58),N=n(14),C=n(21),T=n.n(C),S=n(17),L=n(1),U=function(t){return Object(L.jsx)("header",{className:T.a.header,children:Object(L.jsxs)("div",{className:T.a.container,children:[Object(L.jsx)("div",{children:Object(L.jsx)("img",{className:T.a.logo,src:"/react-itkam/logo192.png"})}),Object(L.jsxs)("ul",{className:T.a.navbar,children:[Object(L.jsx)(S.b,{to:"/dialogs",className:"".concat(T.a.item," ").concat(T.a.active),children:"dialogs"}),Object(L.jsx)(S.b,{to:"/profile",className:T.a.item,children:"profile"}),Object(L.jsx)(S.b,{to:"/users",className:T.a.item,children:"users"})]}),t.login?t.login:Object(L.jsx)("button",{className:T.a.btn,children:Object(L.jsx)(S.b,{to:"/login",children:"Login"})}),t.login?Object(L.jsx)("button",{className:T.a.btn,onClick:t.logoutUser,children:"Logout"}):Object(L.jsx)(L.Fragment,{})]})})},I=n(85),P=function(t){Object(F.a)(n,t);var e=Object(w.a)(n);function n(){return Object(y.a)(this,n),e.apply(this,arguments)}return Object(E.a)(n,[{key:"render",value:function(){return Object(L.jsx)(U,{login:this.props.login,logoutUser:this.props.logoutUser})}}]),n}(g.a.Component),A=Object(N.b)((function(t){return{login:Object(I.g)(t)}}),{logoutUser:f.i})(P),k=n(36),H=n.n(k),D=function(){return Object(L.jsxs)("ul",{className:H.a.navbar,children:[Object(L.jsx)(S.b,{to:"/dialogs",activeClassName:H.a.active,className:"".concat(H.a.item),children:"page #1"}),Object(L.jsx)(S.b,{to:"/profile",activeClassName:H.a.active,className:H.a.item,children:"page #2"})]})},G=n(22),R=n.n(G),z=function(){return Object(L.jsxs)("div",{children:[Object(L.jsx)("h3",{className:R.a.title,children:"Friends"}),Object(L.jsxs)("div",{className:R.a.friendCard,children:[Object(L.jsx)("img",{src:"/react-itkam/p2.png",className:R.a.friendImg}),Object(L.jsx)("p",{className:R.a.friendText,children:"Name"})]}),Object(L.jsxs)("div",{className:R.a.friendCard,children:[Object(L.jsx)("img",{src:"/react-itkam/p2.png",className:R.a.friendImg}),Object(L.jsx)("p",{className:R.a.friendText,children:"Name"})]}),Object(L.jsxs)("div",{className:R.a.friendCard,children:[Object(L.jsx)("img",{src:"/react-itkam/p2.png",className:R.a.friendImg}),Object(L.jsx)("p",{className:R.a.friendText,children:"Name"})]})]})},M=n(120),W=n.n(M),V=function(){return Object(L.jsxs)("div",{className:W.a.wrp,children:[Object(L.jsx)(D,{}),Object(L.jsx)(z,{})]})},B=n(56),J=n(9),K=function(t){return function(e){return Object(L.jsx)(J.b,{children:Object(L.jsx)(_.Suspense,{fallback:Object(L.jsx)(B.a,{}),children:Object(L.jsx)(t,Object(i.a)({},e))})})}},X=n(253),q=function(t){var e=t.login,n=t.error,r=t.loginUser;return e?Object(L.jsx)(J.a,{to:"/profile"}):(console.log(r),Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("h1",{children:"Login"}),Object(L.jsx)(ct,{errors:n,loginUser:r})]}))},Q=n(254),Y=n(116),Z=n(42),$=n.n(Z),tt=function(t){var e=t.input,n=Object(Y.a)(t,["input"]),r=n.meta.touched&&n.meta.error;return Object(L.jsxs)("div",{className:$.a.formControll+" "+(r?$.a.error:""),children:[Object(L.jsx)("span",{className:$.a.lable,children:n.lable}),Object(L.jsx)("input",Object(i.a)(Object(i.a)(Object(i.a)({},e),n),{},{className:$.a.input})),r&&Object(L.jsx)("span",{children:n.meta.error})]})},et=n(34),nt=n(82),rt=n.n(nt),at=function(t,e,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return Object(L.jsxs)("div",{children:[Object(L.jsx)(Q.a,Object(i.a)({name:t,component:e,validate:n,placeholder:a},r)),c]})},ct=(n(212),Object(X.a)({form:"loginForm"})((function(t){var e=t.loginUser,n=t.reset,r=t.handleSubmit,a=t.errors;return Object(L.jsxs)("form",{onSubmit:r((function(t){e(t),n()})),children:[at("email",tt,[et.d,et.a],{type:"email",lable:"Email"}),at("password",tt,[et.d,et.c],{type:"password",lable:"Password"}),a&&Object(L.jsx)("div",{className:rt.a.summaryError,children:"Uncorret Password or Email"}),Object(L.jsx)("button",{className:rt.a.btn,children:"Submit"})]})}))),it=Object(N.b)((function(t){return{login:t.auth.login,error:t.auth.error}}),{loginUser:f.h})(q),ot=(n(251),g.a.lazy((function(){return n.e(3).then(n.bind(null,264))}))),st=g.a.lazy((function(){return n.e(4).then(n.bind(null,265))})),ut=g.a.lazy((function(){return n.e(5).then(n.bind(null,266))})),lt=function(t){Object(F.a)(n,t);var e=Object(w.a)(n);function n(){var t;Object(y.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).componentDidMount=function(){t.props.initializeApp()},t}return Object(E.a)(n,[{key:"render",value:function(){return this.props.initialized?Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(S.a,{children:Object(L.jsxs)("div",{className:"App",children:[Object(L.jsx)(A,{}),Object(L.jsxs)("main",{className:"main",children:[Object(L.jsx)(V,{}),Object(L.jsxs)("div",{className:"content",children:[Object(L.jsx)(J.b,{path:"/profile/:userId?",render:K(ot)}),Object(L.jsx)(J.b,{path:"/dialogs",render:K(st)}),Object(L.jsx)(J.b,{path:"/users",render:K(ut)}),Object(L.jsx)(J.b,{path:"/login",children:Object(L.jsx)(it,{})})]})]})]})})}):Object(L.jsx)(B.a,{})}}]),n}(g.a.Component),dt=Object(N.b)((function(t){return{initialized:t.app.initialized}}),{initializeApp:function(){return function(t){t(Object(f.a)()).then((function(){t({type:"INITIALIZED_SUCCESS"})}))}}})(lt),ft=function(t){return Object(L.jsx)(N.a,{store:m,children:Object(L.jsx)(dt,{})})};x.a.render(Object(L.jsx)(g.a.StrictMode,{children:Object(L.jsx)(ft,{})}),document.getElementById("root")),r()},31:function(t,e,n){"use strict";n.d(e,"j",(function(){return b})),n.d(e,"b",(function(){return _})),n.d(e,"g",(function(){return y})),n.d(e,"c",(function(){return E})),n.d(e,"d",(function(){return w})),n.d(e,"k",(function(){return N})),n.d(e,"a",(function(){return C})),n.d(e,"h",(function(){return T})),n.d(e,"i",(function(){return S})),n.d(e,"e",(function(){return L})),n.d(e,"f",(function(){return U})),n.d(e,"l",(function(){return I}));var r=n(8),a=n.n(r),c=n(19),i=n(117),o=n.n(i).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"6a995dcb-f758-48c0-a11e-158549677c15"}}),s={getUsers:function(t,e){return o.get("users?page=".concat(t,"&count=").concat(e),{withCredentials:!0}).then((function(t){return t.data}))},followUser:function(t){return o.post("follow/".concat(t),{},{withCredentials:!0})},unfollowUser:function(t){return o.delete("follow/".concat(t),{withCredentials:!0})}},u=function(t){return o.get("profile/".concat(t))},l=function(t){return o.get("profile/status/".concat(t))},d=function(t){return o.put("profile/status",t)},f=function(t){return o.post("auth/login",t)},p=function(){return o.delete("auth/login")},j=function(){return o.get("auth/me",{withCredentials:!0})},b=function(t){return{type:"ADD-POST",payload:t}},O=function(t){return{type:"FOLLOW_USER",payload:t}},h=function(t){return{type:"UNFOLLOW_USER",payload:t}},m=function(t){return{type:"SET_USER",payload:t}},_=function(t){return{type:"CHANGE_TOTAL_COUNT_PAGE",payload:t}},g=function(t){return{type:"CHANGE_STAUS",payload:t}},v=function(t){return{type:"SET_AUTH",payload:t}},x=function(t,e){return{type:"TOGLE_FECHING_FOLLOW",userId:e,isFething:t}},y=function(t,e){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:"TOOGLE_IS_FETCH"}),n.next=3,s.getUsers(t,e);case 3:c=n.sent,r({type:"TOOGLE_IS_FETCH"}),r(_(c.totalCount)),r(m(c.items));case 7:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},E=function(t,e){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:"CHANGE_PAGE",payload:t}),r({type:"TOOGLE_IS_FETCH"}),n.next=4,s.getUsers(t,e);case 4:c=n.sent,r({type:"TOOGLE_IS_FETCH"}),r(m(c.items));case 7:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},F=function(){var t=Object(c.a)(a.a.mark((function t(e,n,r,c){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(x(!0,n)),t.next=3,r(n);case 3:0===t.sent.data.resultCode&&e(c(n)),e(x(!1,n));case 6:case"end":return t.stop()}}),t)})));return function(e,n,r,a){return t.apply(this,arguments)}}(),w=function(t){return function(){var e=Object(c.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F(n,t,s.followUser.bind(s),O);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},N=function(t){return function(){var e=Object(c.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F(n,t,s.unfollowUser.bind(s),h);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},C=function(){return function(){var t=Object(c.a)(a.a.mark((function t(e){var n,r,c,i,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j();case 2:return n=t.sent,r=n.data.data,c=r.id,i=r.login,o=r.email,0===n.data.resultCode&&e(v({id:c,login:i,email:o})),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},T=function(t){return function(){var e=Object(c.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t);case 2:0===e.sent.data.resultCode?j().then((function(t){var e=t.data.data,r=e.id,a=e.login,c=e.email;0===t.data.resultCode&&n(v({id:r,login:a,email:c}))})):n({type:"SET_ERROR"});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S=function(){return function(){var t=Object(c.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p();case 2:0===t.sent.data.resultCode&&e({type:"DEL_AUTH"});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},L=function(t){return function(){var e=Object(c.a)(a.a.mark((function e(n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t);case 2:r=e.sent,n({type:"SET_PROFILE",payload:r.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},U=function(t){return function(){var e=Object(c.a)(a.a.mark((function e(n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t);case 2:(r=e.sent).data||(r.data="Without status"),n({type:"SET_STATUS",payload:r.data});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},I=function(t){return function(){var e=Object(c.a)(a.a.mark((function e(n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d({status:t});case 2:throw 0===(r=e.sent).resultCode&&n(g(t)),console.log(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},34:function(t,e,n){"use strict";n.d(e,"d",(function(){return a})),n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return s}));var r,a=function(t){if(!t)return"Filled is required"},c=function(t){return function(e){if(e.length>t)return"Max symbols is ".concat(t)}},i=c(50),o=c(20),s=(r=6,function(t){if(t.length<r)return"Min symbols is ".concat(r)})},36:function(t,e,n){t.exports={navbar:"LeftNav_navbar__erfEi",item:"LeftNav_item__v8LDN",active:"LeftNav_active__3KqiD"}},42:function(t,e,n){t.exports={form:"PostForm_form__1aODQ",textarea:"PostForm_textarea__1Novf",btn:"PostForm_btn__3UwTK",formControll:"PostForm_formControll__1SUU5",error:"PostForm_error__2DDsB",lable:"PostForm_lable__1HsT8",input:"PostForm_input__33fJv"}},56:function(t,e,n){"use strict";n(0);var r=n(1);e.a=function(){return Object(r.jsx)("img",{alt:"Loading...",src:"/react-itkam/1475.gif"})}},82:function(t,e,n){t.exports={btn:"FormContainer_btn__3D08K",summaryError:"FormContainer_summaryError__IasIg"}},85:function(t,e,n){"use strict";n.d(e,"i",(function(){return r})),n.d(e,"j",(function(){return a})),n.d(e,"k",(function(){return c})),n.d(e,"d",(function(){return i})),n.d(e,"n",(function(){return o})),n.d(e,"h",(function(){return s})),n.d(e,"m",(function(){return u})),n.d(e,"a",(function(){return l})),n.d(e,"f",(function(){return d})),n.d(e,"e",(function(){return f})),n.d(e,"l",(function(){return p})),n.d(e,"g",(function(){return j})),n.d(e,"c",(function(){return b})),n.d(e,"b",(function(){return O}));var r=function(t){return t.profile.posts},a=function(t){return t.profile.profile},c=function(t){return t.profile.status},i=function(t){return t.auth.id},o=function(t){return t.userPage.users},s=function(t){return t.userPage.pageSize},u=function(t){return t.userPage.totalCount},l=function(t){return t.userPage.currentPage},d=function(t){return t.userPage.isFetch},f=function(t){return t.userPage.isFetchFollow},p=function(t){return t.userPage.togleFetcgFollow},j=function(t){return t.auth.login},b=function(t){return t.dialogs.dataUsers},O=function(t){return t.dialogs.dataMessages}}},[[252,1,2]]]);
//# sourceMappingURL=main.94b61991.chunk.js.map